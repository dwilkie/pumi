#!/usr/bin/env ruby

# Usage:

# $ parse_data

require "bundler/setup"
require "pumi"

Pumi::DataSource::NCDD.new.load_data!

Pumi::DataSource::Wikipedia.new(
  scraper: Pumi::DataSource::Wikipedia::CambodianProvincesScraper.new,
  data_file: Pumi::DataFile.new(:provinces)
).load_data!

Pumi::DataSource::Wikipedia.new(
  scraper: Pumi::DataSource::Wikipedia::CambodianDistrictsScraper.new,
  data_file: Pumi::DataFile.new(:districts)
).load_data!

Pumi::DataSource::Wikipedia.new(
  scraper: Pumi::DataSource::Wikipedia::CambodianCommunesScraper.new,
  data_file: Pumi::DataFile.new(:communes)
).load_data!

Pumi::DataSource::Geocoder.new(
  data_file: Pumi::DataFile.new(:districts),
  geocoder: Pumi::DataSource::Geocoder::CambodianDistricts.new
).load_data!

Pumi::DataSource::Geocoder.new(
  data_file: Pumi::DataFile.new(:communes),
  geocoder: Pumi::DataSource::Geocoder::CambodianCommunes.new
).load_data!
